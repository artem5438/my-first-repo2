<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–û–†–ê - –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>üé¨ –ù–û–†–ê</h1>
                    <p>–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä</p>
                </div>
                <nav class="nav">
                    <a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="movies.html" class="nav-link">–ê—Ñ–∏—à–∞</a>
                    <a href="admin.html" class="nav-link active">‚öôÔ∏è –ê–¥–º–∏–Ω</a>
                    <button id="login-btn" class="btn-auth">–ü—Ä–æ—Ñ–∏–ª—å</button>
                </nav>
            </div>
        </div>
    </header>


    <!-- MAIN CONTENT -->
    <main class="admin-container" style="padding: 2rem 0; max-width: 1400px; margin: 0 auto;">
        <!-- SIDEBAR -->
        <aside class="admin-sidebar">
            <h3>‚öôÔ∏è –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</h3>
            <div class="admin-menu">
                <button class="admin-menu-btn active" onclick="switchAdminTab('movies')">
                    üé¨ –§–∏–ª—å–º—ã
                </button>
                <button class="admin-menu-btn" onclick="switchAdminTab('sessions')">
                    üé´ –°–µ–∞–Ω—Å—ã
                </button>
                <button class="admin-menu-btn" onclick="switchAdminTab('reports')"> 
                    üìä –û—Ç—á—ë—Ç—ã
                </button>
            </div>
        </aside>
    


        <!-- CONTENT -->
        <section class="admin-content">
            <!-- MOVIES SECTION -->
            <div id="movies-section" class="admin-section active">
                <h2 class="section-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –§–∏–ª—å–º–∞–º–∏</h2>


                <!-- ADD/EDIT FORM -->
                <div style="background: #f9fafb; padding: 2rem; border-radius: 8px; margin-bottom: 2rem;">
                    <h3 style="margin-top: 0; color: #1e3a8a;">–î–æ–±–∞–≤–∏—Ç—å/–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å–º</h3>
                    
                    <form id="movie-form">
                        <div class="form-group">
                            <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞</label>
                            <input type="text" id="movie-title" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required>
                        </div>


                        <div class="form-group">
                            <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <textarea id="movie-description" class="form-textarea" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞"></textarea>
                        </div>


                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">–†–µ–∂–∏—Å—Å–µ—Ä</label>
                                <input type="text" id="movie-director" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è —Ä–µ–∂–∏—Å—Å–µ—Ä–∞">
                            </div>
                            <div class="form-group">
                                <label class="form-label">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω)</label>
                                <input type="number" id="movie-duration" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 120" required>
                            </div>
                        </div>


                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">–†–µ–π—Ç–∏–Ω–≥ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É</label>
                                <select id="movie-rating" class="form-select" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–π—Ç–∏–Ω–≥</option>
                                    <option value="0+">0+</option>
                                    <option value="6+">6+</option>
                                    <option value="12+">12+</option>
                                    <option value="16+">16+</option>
                                    <option value="18+">18+</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">–ü–æ—Å—Ç–µ—Ä —Ñ–∏–ª—å–º–∞</label>
                                <input type="file" id="movie-poster" class="form-input" accept="image/*">
                                <div id="poster-preview" style="margin-top: 1rem; display: none;">
                                    <img id="poster-preview-img" style="max-width: 200px; border-radius: 6px;">
                                </div>
                            </div>
                        </div>


                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑–∞</label>
                                <input type="date" id="movie-release-date" class="form-input">
                            </div>
                            <div class="form-group">
                                <label class="form-label">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–∫–∞–∑–∞</label>
                                <input type="date" id="movie-end-date" class="form-input">
                            </div>
                        </div>


                        <div>
                            <button type="submit" class="btn-submit">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∏–ª—å–º</button>
                            <button type="reset" class="btn-reset" onclick="resetMovieForm()">üîÑ –û—á–∏—Å—Ç–∏—Ç—å</button>
                        </div>
                    </form>
                </div>


                <!-- MOVIES LIST -->
                <h3 style="color: #1e3a8a; margin-bottom: 1rem;">–°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤</h3>
                <div id="movies-list" class="movies-list">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∏–ª—å–º–æ–≤...</div>
                </div>
            </div>


            <!-- SESSIONS SECTION -->
            <div id="sessions-section" class="admin-section">
                <h2 class="section-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–µ–∞–Ω—Å–∞–º–∏</h2>


                <!-- ADD/EDIT FORM -->
                <div style="background: #f9fafb; padding: 2rem; border-radius: 8px; margin-bottom: 2rem;">
                    <h3 style="margin-top: 0; color: #1e3a8a;">–î–æ–±–∞–≤–∏—Ç—å/–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∞–Ω—Å</h3>
                    
                    <form id="session-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">–§–∏–ª—å–º</label>
                                <select id="session-movie" class="form-select" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å–º</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">–ó–∞–ª</label>
                                <select id="session-hall" class="form-select" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ª</option>
                                </select>
                            </div>
                        </div>


                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞</label>
                                <input type="datetime-local" id="session-start" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
                                <input type="datetime-local" id="session-end" class="form-input" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">–¶–µ–Ω–∞ –±–∏–ª–µ—Ç–∞</label>
                            <input type="number" id="session-price" class="form-input" min="0" step="0.01" required>
                        </div>


                        <div>
                            <button type="submit" class="btn-submit">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∞–Ω—Å</button>
                            <button type="reset" class="btn-reset" onclick="resetSessionForm()">üîÑ –û—á–∏—Å—Ç–∏—Ç—å</button>
                        </div>
                    </form>
                </div>
                


                <!-- SESSIONS LIST -->
                <h3 style="color: #1e3a8a; margin-bottom: 1rem;">–°–ø–∏—Å–æ–∫ —Å–µ–∞–Ω—Å–æ–≤</h3>
                <div id="sessions-list" class="sessions-list">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ–∞–Ω—Å–æ–≤...</div>
                </div>
            </div>


            <!-- ======================== –û–¢–ß–Å–¢–´ ======================== -->
            <div id="reports-section" class="admin-section">
                <h2 class="section-title">üìä –û—Ç—á—ë—Ç—ã</h2>

                <div class="reports-tabs">
                    <button class="report-tab-btn active" data-tab="overview" onclick="switchReportTab('overview')">–û–±–∑–æ—Ä</button>
                    <button class="report-tab-btn" data-tab="popular-movies" onclick="switchReportTab('popular-movies')">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ñ–∏–ª—å–º—ã</button>
                    <button class="report-tab-btn" data-tab="halls" onclick="switchReportTab('halls')">–ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å –∑–∞–ª–æ–≤</button>
                    <button class="report-tab-btn" data-tab="refunds" onclick="switchReportTab('refunds')">–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–æ–≤</button>
                </div>

                <!-- ===== –û–ë–ó–û–† =====  -->
                <div id="overview-tab" class="report-content active">
                    <div class="reports-grid">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞: –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div class="stat-card stat-card-primary">
                            <h3>üí∞ –û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞</h3>
                            <p class="stat-value" id="total-revenue">‚ÇΩ 0</p>
                            <p class="stat-label">–∑–∞ –≤—Å–µ –ø—Ä–æ–¥–∞–∂–∏</p>
                        </div>

                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞: –í—Å–µ–≥–æ –±–∏–ª–µ—Ç–æ–≤ -->
                        <div class="stat-card stat-card-blue">
                            <h3>üé´ –ë–∏–ª–µ—Ç—ã (–≤—Å–µ–≥–æ)</h3>
                            <p class="stat-value" id="total-tickets">0</p>
                            <p class="stat-label">–ø—Ä–æ–¥–∞–Ω–æ –∏ –æ—Ç–º–µ–Ω–µ–Ω–æ</p>
                        </div>

                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞: –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ -->
                        <div class="stat-card stat-card-success">
                            <h3>‚úÖ –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ</h3>
                            <p class="stat-value" id="valid-tickets">0</p>
                            <p class="stat-label">–∞–∫—Ç–∏–≤–Ω—ã–µ –±–∏–ª–µ—Ç—ã</p>
                        </div>

                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞: –û—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ -->
                        <div class="stat-card stat-card-danger">
                            <h3>‚ùå –û—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ</h3>
                            <p class="stat-value" id="cancelled-tickets">0</p>
                            <p class="stat-label">–≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–µ –±–∏–ª–µ—Ç—ã</p>
                        </div>

                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞: –ü—Ä–æ—Ü–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ -->
                        <div class="stat-card stat-card-warning">
                            <h3>üìâ –ü—Ä–æ—Ü–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–æ–≤</h3>
                            <p class="stat-value" id="refund-rate">0%</p>
                            <p class="stat-label">–æ—Ç –≤—Å–µ—Ö –±–∏–ª–µ—Ç–æ–≤</p>
                        </div>
                    </div>

                    <!-- –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–µ—Ç–∞–ª–∏ -->
                    <div class="report-quick-links">
                        <h3>–ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥</h3>
                        <button class="quick-link-btn" onclick="switchReportTab('popular-movies')">
                            üé¨ –°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ñ–∏–ª—å–º—ã
                        </button>
                        <button class="quick-link-btn" onclick="switchReportTab('halls')">
                            üèõÔ∏è –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å –∑–∞–ª–æ–≤
                        </button>
                        <button class="quick-link-btn" onclick="switchReportTab('refunds')">
                            üîÑ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
                        </button>
                    </div>
                </div>

                <!-- ===== –ü–û–ü–£–õ–Ø–†–ù–´–ï –§–ò–õ–¨–ú–´ ===== -->
                <div id="popular-movies-tab" class="report-content">
                    <div class="report-header">
                        <h3>üé¨ –¢–æ–ø –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤</h3>
                        <p class="report-subtitle">–§–∏–ª—å–º—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤</p>
                    </div>

                    <div class="report-table-container">
                        <table class="report-table">
                            <thead>
                                <tr>
                                    <th>–§–∏–ª—å–º</th>
                                    <th>–†–µ–∂–∏—Å—Å—ë—Ä</th>
                                    <th>–†–µ–π—Ç–∏–Ω–≥</th>
                                    <th>–ë–∏–ª–µ—Ç–æ–≤ –ø—Ä–æ–¥–∞–Ω–æ</th>
                                    <th>–í—ã—Ä—É—á–∫–∞ (‚ÇΩ)</th>
                                    <th>–°–µ–∞–Ω—Å–æ–≤</th>
                                </tr>
                            </thead>
                            <tbody id="popular-movies-tbody">
                                <tr>
                                    <td colspan="6" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ===== –ó–ê–ì–†–£–ñ–ï–ù–ù–û–°–¢–¨ –ó–ê–õ–û–í ===== -->
                <div id="halls-tab" class="report-content">
                    <div class="report-header">
                        <h3>üèõÔ∏è –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å –∫–∏–Ω–æ–∑–∞–ª–æ–≤</h3>
                        <p class="report-subtitle">–ü—Ä–æ—Ü–µ–Ω—Ç –∑–∞–Ω—è—Ç—ã—Ö –º–µ—Å—Ç –≤ –∫–∞–∂–¥–æ–º –∑–∞–ª–µ</p>
                    </div>

                    <div class="halls-grid">
                        <div id="halls-content">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                            <p class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>
                        </div>
                    </div>
                </div>

                <!-- ===== –í–û–ó–í–†–ê–©–ê–ï–ú–û–°–¢–¨ –ë–ò–õ–ï–¢–û–í ===== -->
                <div id="refunds-tab" class="report-content">
                    <div class="report-header">
                        <h3>üîÑ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ—Å—Ç–∏ –±–∏–ª–µ—Ç–æ–≤</h3>
                        <p class="report-subtitle">–ê–Ω–∞–ª–∏–∑ –æ—Ç–º—ë–Ω –∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –ø–æ —Ñ–∏–ª—å–º–∞–º</p>
                    </div>

                    <div class="report-table-container">
                        <table class="report-table">
                            <thead>
                                <tr>
                                    <th>–§–∏–ª—å–º</th>
                                    <th>–í—Å–µ–≥–æ –±–∏–ª–µ—Ç–æ–≤</th>
                                    <th>–û—Ç–º–µ–Ω–µ–Ω–æ</th>
                                    <th>% –≤–æ–∑–≤—Ä–∞—Ç–æ–≤</th>
                                    <th>–°—Ç–∞—Ç—É—Å</th>
                                </tr>
                            </thead>
                            <tbody id="refunds-tbody">
                                <tr>
                                    <td colspan="5" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è -->
                <div class="report-actions">
                    <button id="refresh-reports-btn" class="btn-submit" onclick="loadReports()">
                        üîÑ –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç—á—ë—Ç—ã
                    </button>
                </div>
            </div>
        </section>
    </main>


    <!-- FOOTER -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 –ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä –ù–û–†–ê. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>


<!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û -->
<div id="movie-modal" class="modal">
  <div class="modal-content">
    <button class="modal-close" id="modal-close">&times;</button>
    <div id="modal-body"></div>
  </div>
</div>


    <script src="js/api.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/movies.js"></script>
</body>
</html>